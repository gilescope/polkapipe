[package]
name = "polkapipe"
description = "Fork of sube focusing on communication"
license = "Apache-2.0"
version = "0.5.1"
authors = ["Daniel Olano <daniel@olanod.com>"]
edition = "2018"
repository = "https://github.com/valibre-org/sube"

[dependencies]
async-trait = "0.1.51"
# blake2 = { version = "0.9.2", default-features = false }
# codec = { version = "2.3.1", package = "parity-scale-codec", default-features = false }
# frame-metadata = { version = "14.0.0", default-features = false, features = ["std"] }
hex = { version = "0.4.3", default-features = false, features = ["alloc"] }
log = "0.4.14"
# once_cell = { version = "1.8.0", default-features = false }
# twox-hash = { version = "1.6.1", default-features = false }

# scale-info = { version = "1.0.0", optional = true }
jsonrpc = { version = "0.12.0", default-features = false }
# scales = { version = "0.8.0", package = "scale-serialization", default-features = false, optional = true }

# http backend
surf = { version = "2.3.1", default_features = false, optional = true }

# ws backend
async-tungstenite = { version = "0.15.0", features = ["async-std-runtime"], optional = true }
futures-channel = { version = "0.3.17", default-features = false, features = ["alloc"], optional = true }
futures-util = { version = "0.3.17", default-features = false, features = ["sink"], optional = true }
async-mutex = { version = "1.4.0", optional = true }
async-tls = { version = "0.11.0", default-features = false, optional = true }
async-std = { version = "1.10.0", default_features = false, optional = true }

# jsonrpsee-types = "*"
# serde_json = "*"

[dev-dependencies]
async-std = { version = "1.10.0", features = ["attributes"] }
hex-literal = "0.3.3"

[features]
default = ["std"]
#default = ["v14", "ws", "decode", "json", "std"]
# decode = ["v14", "serde", "scales/codec"]
# encode = ["v14", "scales/experimental-serializer"]
http = ["surf/h1-client-rustls"]
http-web = ["surf/wasm-client"]
# json = ["v14", "scales/json"]
std = []
# v12 = ["frame-metadata/v12"]
# v13 = ["frame-metadata/v13"]
# v14 = ["frame-metadata/v14", "scale-info", "scales"]
ws = ["async-std", "async-tungstenite", "async-mutex", "futures-util", "futures-channel"]
wss = ["ws", "async-tls", "async-tungstenite/async-tls"]


[package.metadata.docs.rs]
features = ["http"]


# [patch.crates-io]
# stderrlog = { git="https://github.com/cardoe/stderrlog-rs.git" }
